import{e as v,f as L,A as h,g as f,o as r,i as p,w as a,a as o,u as l,c as _,d as y,l as m,m as S,b as U}from"./index-8b5b05ee.js";import{H as $,I as z,J as k,K as D,M as x,e as H,w as N}from"./endpoints-a97983b3.js";import{b as A,c as B}from"./SectionTitleLineWithButton-7f6b899e.js";import{_ as I}from"./darkMode-d4261cad.js";import{_ as u,a as i}from"./FormControl-9d942e3e.js";import{_ as w}from"./BaseButton-34cb38d9.js";import{_ as M}from"./BaseButtons-125c5a61.js";import{a as R}from"./LayoutAuthenticated-69cdb4e0.js";import{_ as E}from"./NotificationBarInCard-cd492f22.js";const O={key:0},C=U("b",{class:"capitalize"},"ERRORE: ",-1),T={key:1},Z={__name:"NewWsView",setup(P){const V=v(),b=L(),e=h({wsLat:"",wsLong:"",wsHeight:"",wsDescription:"",wsUrl:""}),g=async()=>{await H.post("https://sunsync-main-service.onrender.com"+N,{location:{lat:e.wsLat,long:e.wsLong,alt:e.wsHeight},description:e.wsDescription,url:e.wsUrl},{headers:{Authorization:`Bearer ${V.getToken.value}`}}).then(async()=>{n.value=d[1],c.value=!1,setTimeout(()=>b.push("/dashboard"),500)}).catch(()=>{n.value=d[2]})},n=f(0),d=["none","success","danger"],c=f(!0);return(F,t)=>(r(),p(R,null,{default:a(()=>[o(B,null,{default:a(()=>[o(A,{icon:l($),title:"Nuova Stazione Meteo",main:""},null,8,["icon"]),o(E,{color:n.value},{default:a(()=>[n.value=="danger"?(r(),_("span",O,[C,y(" L'inserimento non Ã¨ andato a buon fine!")])):m("",!0),n.value=="success"?(r(),_("span",T,"Inserimento avvenuto con successo!")):m("",!0)]),_:1},8,["color"]),c.value?(r(),p(I,{key:0,"is-form":"",onSubmit:S(g,["prevent"])},{footer:a(()=>[o(M,null,{default:a(()=>[o(w,{type:"submit",color:"info",label:"Invia"}),o(w,{type:"reset",color:"info",outline:"",label:"Reset"})]),_:1})]),default:a(()=>[o(u,{label:"Posizione Stazione Meteo"},{default:a(()=>[o(i,{modelValue:e.wsLat,"onUpdate:modelValue":t[0]||(t[0]=s=>e.wsLat=s),type:"number",icon:l(z),placeholder:"Latitudine"},null,8,["modelValue","icon"]),o(i,{modelValue:e.wsLong,"onUpdate:modelValue":t[1]||(t[1]=s=>e.wsLong=s),type:"number",icon:l(k),placeholder:"Longintudine"},null,8,["modelValue","icon"])]),_:1}),o(u,null,{default:a(()=>[o(i,{modelValue:e.wsHeight,"onUpdate:modelValue":t[2]||(t[2]=s=>e.wsHeight=s),type:"number",icon:l(D),placeholder:"Altitudine"},null,8,["modelValue","icon"])]),_:1}),o(u,{label:"Descrizione Stazione Meteo"},{default:a(()=>[o(i,{modelValue:e.wsDescription,"onUpdate:modelValue":t[3]||(t[3]=s=>e.wsDescription=s),type:"textarea",placeholder:"Descrizione della stazione meteo"},null,8,["modelValue"])]),_:1}),o(u,{label:"Url dati meteo"},{default:a(()=>[o(i,{modelValue:e.wsUrl,"onUpdate:modelValue":t[4]||(t[4]=s=>e.wsUrl=s),type:"url",icon:l(x)},null,8,["modelValue","icon"])]),_:1})]),_:1},8,["onSubmit"])):m("",!0)]),_:1})]),_:1}))}};export{Z as default};
