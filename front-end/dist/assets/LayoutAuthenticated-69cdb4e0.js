import{o,c as f,a as c,w as k,b as d,T as _,r as L,n as r,e as D,j as h,g as w,u as m,i as g,l as y,t as B,G as N,R as E,F as M,s as S,m as $,k as I,v as O,f as P}from"./index-8b5b05ee.js";import{N as T,m as R,f as j,D as q,H as V,l as F,a as H,b as U,c as G,O as Q,P as W,k as J,Q as K,R as X}from"./endpoints-a97983b3.js";import{g as Y,a as x,u as Z}from"./darkMode-d4261cad.js";import{_ as ee,a as se}from"./SectionTitleLineWithButton-7f6b899e.js";const te={__name:"OverlayLayer",props:{zIndex:{type:String,default:"z-50"},type:{type:String,default:"flex"}},emits:["overlay-click"],setup(s,{emit:t}){const a=i=>{t("overlay-click",i)};return(i,e)=>(o(),f("div",{class:r([[s.type,s.zIndex],"items-center flex-col justify-center overflow-hidden fixed inset-0"])},[c(_,{"enter-active-class":"transition duration-150 ease-in","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:k(()=>[d("div",{class:"overlay absolute inset-0 bg-gradient-to-tr opacity-90 dark:from-gray-700 dark:via-gray-900 dark:to-gray-700",onClick:a})]),_:1}),c(_,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"animate-fade-out"},{default:k(()=>[L(i.$slots,"default")]),_:3})],2))}},ae=[{to:"/",label:"Home Page",icon:T,role:0},{to:"/dashboard",icon:R,label:"Dashboard",role:1},{to:"/grafici",label:"Grafici",icon:j,role:1},{to:"/newuser",label:"Nuovo Utente",icon:q,role:0},{to:"/newpv",label:"Nuovo Impianto",icon:V,role:0},{to:"/newws",label:"Nuova Stazione",icon:F,role:0}],ie=[{isCurrentUser:!0,menu:[{icon:H,label:"Impostazioni",to:"/profile"}]},{icon:U,label:"Light/Dark",isDesktopNoLabel:!0,isToggleLightDark:!0},{icon:G,label:"Logout",isDesktopNoLabel:!0,isLogout:!0}],le="/logo.png",ne={__name:"AsideMenuItem",props:{item:{type:Object,required:!0},isDropdownList:Boolean},emits:["menu-click"],setup(s,{emit:t}){const a=s,i=D(),e=h(()=>a.item&&a.item.color),l=h(()=>e.value?"":"aside-menu-item-active font-bold"),u=w(!1),p=h(()=>[a.isDropdownList?"py-3 px-6 text-sm":"py-3",e.value?Y(a.item.color,!1,!0):"aside-menu-item dark:text-slate-300 dark:hover:text-white"]),n=h(()=>!!a.item.menu),b=C=>{t("menu-click",C,a.item),n.value&&(u.value=!u.value)};return(C,ge)=>(o(),f("li",null,[s.item.role>=m(i).getRole.value?(o(),g(N(s.item.to?m(E):"a"),{key:0,to:s.item.to??null,href:s.item.href??null,target:s.item.target??null,class:r(["flex cursor-pointer",p.value]),onClick:b},{default:k(v=>[s.item.icon?(o(),g(x,{key:0,path:s.item.icon,class:r(["flex-none",[v&&v.isExactActive?l.value:""]]),w:"w-16",size:18},null,8,["path","class"])):y("",!0),d("span",{class:r(["grow text-ellipsis line-clamp-1",[{"pr-12":!n.value},v&&v.isExactActive?l.value:""]])},B(s.item.label),3),n.value?(o(),g(x,{key:1,path:u.value?m(Q):m(W),class:r(["flex-none",[v&&v.isExactActive?l.value:""]]),w:"w-12"},null,8,["path","class"])):y("",!0)]),_:1},8,["to","href","target","class"])):y("",!0),n.value?(o(),g(z,{key:1,menu:s.item.menu,class:r(["aside-menu-dropdown",u.value?"block dark:bg-slate-800/50":"hidden"]),"is-dropdown-list":""},null,8,["menu","class"])):y("",!0)]))}},z={__name:"AsideMenuList",props:{isDropdownList:Boolean,menu:{type:Array,required:!0}},emits:["menu-click"],setup(s,{emit:t}){const a=(i,e)=>{t("menu-click",i,e)};return(i,e)=>(o(),f("ul",null,[(o(!0),f(M,null,S(s.menu,(l,u)=>(o(),g(ne,{key:u,item:l,"is-dropdown-list":s.isDropdownList,onMenuClick:a},null,8,["item","is-dropdown-list"]))),128))]))}},oe={id:"aside",class:"lg:py-2 lg:pl-2 w-60 fixed flex z-40 top-0 h-screen transition-position overflow-hidden"},re={class:"aside lg:rounded-2xl flex-1 flex flex-col overflow-hidden dark:bg-slate-900"},ce={class:"aside-brand flex flex-row h-28 items-center justify-center dark:bg-slate-900"},ue=d("div",{class:"justify-center items-center text-center flex"},[d("img",{src:le,alt:"",srcset:"",class:"h-20 w-20"})],-1),de=["onClick"],me={class:"flex-1 overflow-y-auto overflow-x-hidden aside-scrollbars dark:aside-scrollbars-[slate]"},fe={__name:"AsideMenuLayer",props:{menu:{type:Array,required:!0}},emits:["menu-click","aside-lg-close-click"],setup(s,{emit:t}){const a=(e,l)=>{t("menu-click",e,l)},i=e=>{t("aside-lg-close-click",e)};return(e,l)=>(o(),f("aside",oe,[d("div",re,[d("div",ce,[ue,d("button",{class:"hidden lg:inline-block xl:hidden p-3",onClick:$(i,["prevent"])},[c(x,{path:m(J)},null,8,["path"])],8,de)]),d("div",me,[c(z,{menu:s.menu,onMenuClick:a},null,8,["menu"])])])]))}},ve={__name:"AsideMenu",props:{menu:{type:Array,required:!0},isAsideMobileExpanded:Boolean,isAsideLgActive:Boolean},emits:["menu-click","aside-lg-close-click"],setup(s,{emit:t}){const a=(e,l)=>{t("menu-click",e,l)},i=e=>{t("aside-lg-close-click",e)};return(e,l)=>(o(),f(M,null,[c(fe,{menu:s.menu,class:r([s.isAsideMobileExpanded?"left-0":"-left-60 lg:left-0",{"lg:hidden xl:flex":!s.isAsideLgActive}]),onMenuClick:a,onAsideLgCloseClick:i},null,8,["menu","class"]),I(c(te,{"z-index":"z-30",onOverlayClick:i},null,512),[[O,s.isAsideLgActive]])],64))}},A="xl:pl-60",xe={__name:"LayoutAuthenticated",setup(s){const t=D(),a=Z(),i=P(),e=w(!1),l=w(!1);i.beforeEach(()=>{e.value=!1,l.value=!1});const u=(p,n)=>{n.isToggleLightDark&&a.set(),n.isLogout&&(t.setToken(""),t.setExpire(""),t.setUserId(""),t.setRole(""),t.setDisabled(""),i.push({name:"home"}))};return(p,n)=>(o(),f("div",{class:r({"overflow-hidden lg:overflow-visible":e.value})},[d("div",{class:r([[A,{"ml-60 lg:ml-0":e.value}],"pt-14 min-h-screen w-screen transition-position lg:w-auto bg-gray-50 dark:bg-slate-800 dark:text-slate-100"])},[c(se,{menu:m(ie),class:r([A,{"ml-60 lg:ml-0":e.value}]),onMenuClick:u},{default:k(()=>[c(ee,{display:"flex lg:hidden",onClick:n[0]||(n[0]=$(b=>e.value=!e.value,["prevent"]))},{default:k(()=>[c(x,{path:e.value?m(K):m(X),size:"24"},null,8,["path"])]),_:1})]),_:1},8,["menu","class"]),c(ve,{"is-aside-mobile-expanded":e.value,"is-aside-lg-active":l.value,menu:m(ae),onMenuClick:u,onAsideLgCloseClick:n[1]||(n[1]=b=>l.value=!1)},null,8,["is-aside-mobile-expanded","is-aside-lg-active","menu"]),L(p.$slots,"default")],2)],2))}};export{te as _,xe as a};
