import{o,c as v,a as c,w as p,b as d,T as A,r as _,n as r,e as M,l as h,g as w,u as m,i as g,s as y,t as z,S as O,U as S,F as D,v as E,I as B,L as N,O as I,f as P}from"./index-f9584e7f.js";import{J as T,m as j,e as U,K as q,s as R,L as V,B as F,x as H,D as G,j as J,a as K,b as W,c as Q,M as X,N as Y,C as Z,O as ee,P as te}from"./mdi-9b0bf6d7.js";import{g as se,a as x,u as ae}from"./darkMode-afc6965a.js";import{_ as ie,a as le}from"./SectionTitleLineWithButton-4edab5b8.js";const ne={__name:"OverlayLayer",props:{zIndex:{type:String,default:"z-50"},type:{type:String,default:"flex"}},emits:["overlay-click"],setup(t,{emit:s}){const a=i=>{s("overlay-click",i)};return(i,e)=>(o(),v("div",{class:r([[t.type,t.zIndex],"items-center flex-col justify-center overflow-hidden fixed inset-0"])},[c(A,{"enter-active-class":"transition duration-150 ease-in","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:p(()=>[d("div",{class:"overlay absolute inset-0 bg-gradient-to-tr opacity-90 dark:from-gray-700 dark:via-gray-900 dark:to-gray-700",onClick:a})]),_:1}),c(A,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"animate-fade-out"},{default:p(()=>[_(i.$slots,"default")]),_:3})],2))}},oe=[{to:"/",label:"Home Page",icon:T,role:0},{to:"/dashboard",icon:j,label:"Dashboard",role:1},{to:"/statistiche",label:"Statistiche",icon:U,role:1},{to:"/grafici",label:"Grafici",icon:q,role:1},{to:"/previsioni",label:"Previsioni",icon:R,role:1},{to:"/eventi",label:"Eventi",icon:V,role:1},{to:"/users",label:"Utenti",icon:F,role:0},{to:"/newuser",label:"Nuovo Utente",icon:H,role:0},{to:"/newpv",label:"Nuovo Impianto",icon:G,role:0},{to:"/newws",label:"Nuova Stazione",icon:J,role:0}],re=[{isCurrentUser:!0,menu:[{icon:K,label:"Impostazioni",to:"/profile"}]},{icon:W,label:"Light/Dark",isDesktopNoLabel:!0,isToggleLightDark:!0},{icon:Q,label:"Logout",isDesktopNoLabel:!0,isLogout:!0}],ce="/logo.png",ue={__name:"AsideMenuItem",props:{item:{type:Object,required:!0},isDropdownList:Boolean},emits:["menu-click"],setup(t,{emit:s}){const a=t,i=M(),e=h(()=>a.item&&a.item.color),l=h(()=>e.value?"":"aside-menu-item-active font-bold"),u=w(!1),k=h(()=>[a.isDropdownList?"py-3 px-6 text-sm":"py-3",e.value?se(a.item.color,!1,!0):"aside-menu-item dark:text-slate-300 dark:hover:text-white"]),n=h(()=>!!a.item.menu),b=C=>{s("menu-click",C,a.item),n.value&&(u.value=!u.value)};return(C,ye)=>(o(),v("li",null,[t.item.role>=m(i).getRole.value?(o(),g(O(t.item.to?m(S):"a"),{key:0,to:t.item.to??null,href:t.item.href??null,target:t.item.target??null,class:r(["flex cursor-pointer",k.value]),onClick:b},{default:p(f=>[t.item.icon?(o(),g(x,{key:0,path:t.item.icon,class:r(["flex-none",[f&&f.isExactActive?l.value:""]]),w:"w-16",size:18},null,8,["path","class"])):y("",!0),d("span",{class:r(["grow text-ellipsis line-clamp-1",[{"pr-12":!n.value},f&&f.isExactActive?l.value:""]])},z(t.item.label),3),n.value?(o(),g(x,{key:1,path:u.value?m(X):m(Y),class:r(["flex-none",[f&&f.isExactActive?l.value:""]]),w:"w-12"},null,8,["path","class"])):y("",!0)]),_:1},8,["to","href","target","class"])):y("",!0),n.value?(o(),g($,{key:1,menu:t.item.menu,class:r(["aside-menu-dropdown",u.value?"block dark:bg-slate-800/50":"hidden"]),"is-dropdown-list":""},null,8,["menu","class"])):y("",!0)]))}},$={__name:"AsideMenuList",props:{isDropdownList:Boolean,menu:{type:Array,required:!0}},emits:["menu-click"],setup(t,{emit:s}){const a=(i,e)=>{s("menu-click",i,e)};return(i,e)=>(o(),v("ul",null,[(o(!0),v(D,null,E(t.menu,(l,u)=>(o(),g(ue,{key:u,item:l,"is-dropdown-list":t.isDropdownList,onMenuClick:a},null,8,["item","is-dropdown-list"]))),128))]))}},de={id:"aside",class:"lg:py-2 lg:pl-2 w-60 fixed flex z-40 top-0 h-screen transition-position overflow-hidden"},me={class:"aside lg:rounded-2xl flex-1 flex flex-col overflow-hidden dark:bg-slate-900"},ve={class:"aside-brand flex flex-row h-28 items-center justify-center dark:bg-slate-900"},fe=d("div",{class:"justify-center items-center text-center flex"},[d("img",{src:ce,alt:"",srcset:"",class:"h-20 w-20"})],-1),ge=["onClick"],pe={class:"flex-1 overflow-y-auto overflow-x-hidden aside-scrollbars dark:aside-scrollbars-[slate]"},ke={__name:"AsideMenuLayer",props:{menu:{type:Array,required:!0}},emits:["menu-click","aside-lg-close-click"],setup(t,{emit:s}){const a=(e,l)=>{s("menu-click",e,l)},i=e=>{s("aside-lg-close-click",e)};return(e,l)=>(o(),v("aside",de,[d("div",me,[d("div",ve,[fe,d("button",{class:"hidden lg:inline-block xl:hidden p-3",onClick:B(i,["prevent"])},[c(x,{path:m(Z)},null,8,["path"])],8,ge)]),d("div",pe,[c($,{menu:t.menu,onMenuClick:a},null,8,["menu"])])])]))}},he={__name:"AsideMenu",props:{menu:{type:Array,required:!0},isAsideMobileExpanded:Boolean,isAsideLgActive:Boolean},emits:["menu-click","aside-lg-close-click"],setup(t,{emit:s}){const a=(e,l)=>{s("menu-click",e,l)},i=e=>{s("aside-lg-close-click",e)};return(e,l)=>(o(),v(D,null,[c(ke,{menu:t.menu,class:r([t.isAsideMobileExpanded?"left-0":"-left-60 lg:left-0",{"lg:hidden xl:flex":!t.isAsideLgActive}]),onMenuClick:a,onAsideLgCloseClick:i},null,8,["menu","class"]),N(c(ne,{"z-index":"z-30",onOverlayClick:i},null,512),[[I,t.isAsideLgActive]])],64))}},L="xl:pl-60",Ae={__name:"LayoutAuthenticated",setup(t){const s=M(),a=ae(),i=P(),e=w(!1),l=w(!1);i.beforeEach(()=>{e.value=!1,l.value=!1});const u=(k,n)=>{n.isToggleLightDark&&a.set(),n.isLogout&&(s.setToken(""),s.setExpire(""),s.setUserId(""),s.setRole(""),i.push({name:"home"}))};return(k,n)=>(o(),v("div",{class:r({"overflow-hidden lg:overflow-visible":e.value})},[d("div",{class:r([[L,{"ml-60 lg:ml-0":e.value}],"pt-14 min-h-screen w-screen transition-position lg:w-auto bg-gray-50 dark:bg-slate-800 dark:text-slate-100"])},[c(le,{menu:m(re),class:r([[L,{"ml-60 lg:ml-0":e.value}],"h-20"]),onMenuClick:u},{default:p(()=>[c(ie,{display:"flex lg:hidden",onClick:n[0]||(n[0]=B(b=>e.value=!e.value,["prevent"]))},{default:p(()=>[c(x,{path:e.value?m(ee):m(te),size:"24"},null,8,["path"])]),_:1})]),_:1},8,["menu","class"]),c(he,{"is-aside-mobile-expanded":e.value,"is-aside-lg-active":l.value,menu:m(oe),onMenuClick:u,onAsideLgCloseClick:n[1]||(n[1]=b=>l.value=!1)},null,8,["is-aside-mobile-expanded","is-aside-lg-active","menu"]),_(k.$slots,"default")],2)],2))}};export{Ae as _,ne as a};
