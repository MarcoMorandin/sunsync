import{m as M,a as L,b as D,c as $,d as C,e as d,f as E,g as N,h,i as S,j as T}from"./endpoints-a97983b3.js";import{_ as A,a as B,b as m,c as P}from"./SectionTitleLineWithButton-7f6b899e.js";import{_ as p}from"./CardBoxWidget-7bc2a758.js";import{o as f,c as w,a as e,w as i,b as n,t as V,u as s,d as z,e as O,f as R,n as g,r as j,g as _,h as F,i as I}from"./index-8b5b05ee.js";import{u as U,_ as v}from"./darkMode-d4261cad.js";import{_ as H}from"./BaseLevel-3be95c65.js";import{c as y,_ as k}from"./chart.config-d6101951.js";import"./BaseButton-34cb38d9.js";const q="/logoOrizzontale.png",K=[{isCurrentUser:!0,menu:[{icon:M,label:"Dashboard",to:"/dashboard"},{icon:L,label:"Impostazioni",to:"/profile"}],isAuth:!0,bgColor:"dark:bg-slate-800 bg-slate-900"},{icon:D,label:"Light/Dark",isDesktopNoLabel:!0,isToggleLightDark:!0,bgColor:"dark:bg-slate-800 bg-slate-900"},{icon:$,label:"Logout",to:"/logout",isDesktopNoLabel:!0,isLogout:!0,isAuth:!0,bgColor:"dark:bg-slate-800 bg-slate-900"},{icon:C,label:"Login",to:"/login",isAuth:!1,bgColor:"dark:bg-slate-800 bg-slate-900"}],W={class:"justify-center text-center flex h-20 dark:bg-slate-800 bg-slate-900 text-slate-300"},Y={class:""},G={__name:"FooterBar",setup(b){const a=new Date().getFullYear();return(t,c)=>(f(),w("footer",W,[e(H,null,{default:i(()=>[n("div",Y,[n("p",null,[n("strong",null,V(s(a))+" Made by Morandin Marco & Soldera Marco",1),z(" for University of Trento")])])]),_:1})]))}},J=n("div",{class:"justify-center items-center text-center flex pt-6 pl-4"},[n("img",{src:q,alt:"",class:"h-10"})],-1),Q={__name:"LayoutHome",setup(b){const a=O(),t=U(),c=R(),u=(o,r)=>{r.isToggleLightDark&&t.set(),r.isLogout&&(a.setToken(""),a.setExpire(""),a.setUserId(""),a.setRole(""),a.setDisabled(""),c.push({name:"home"}),location.reload())};return(o,r)=>(f(),w("div",{class:g({"overflow-hidden lg:overflow-visible":o.isAsideMobileExpanded})},[n("div",{class:g([[o.layoutAsidePadding,{"ml-60 lg:ml-0":o.isAsideMobileExpanded}],"pt-14 min-h-screen w-screen transition-position lg:w-auto bg-gray-50 dark:bg-slate-800 dark:text-slate-100"])},[e(B,{menu:s(K),isHome:!0,class:g([[o.layoutAsidePadding,{"ml-60 lg:ml-0":o.isAsideMobileExpanded}],"bg-slate-900 h-20"]),onMenuClick:u},{default:i(()=>[e(A,{"use-margin":""},{default:i(()=>[J]),_:1})]),_:1},8,["menu","class"]),j(o.$slots,"default"),e(G)],2)],2))}},X={class:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-6"},le={__name:"LandingView",setup(b){const a=_(""),t=_({pvNumber:0,money:0}),c=()=>{d.get("https://sunsync-main-service.onrender.com/api/v1/reports/pvnumber",{}).then(l=>{t.value.pvNumber=l.data.number_of_pv_systems}).catch(()=>{showErrorNotification.value=!0,a.value="Errore nel caricamento del numero di impianti registrati"})},u=()=>{d.get("https://sunsync-main-service.onrender.com/api/v1/reports/money",{params:{aggregation:"all"}}).then(l=>{t.value.money=Math.floor(l.data[0].total)}).catch(()=>{showErrorNotification.value=!0,a.value="Errore nel caricamento del valore dei soldi risparmiati"})},o=()=>{d.get("https://sunsync-main-service.onrender.com/api/v1/reports/production",{params:{aggregation:"all"}}).then(l=>{t.value.production=Math.floor(l.data[0].total/1e3)}).catch(()=>{showErrorNotification.value=!0,a.value="Errore nel caricamento del valore della quantità di energia prodotta"})},r=_({}),x=async()=>{r.value.production=await y("info","https://sunsync-main-service.onrender.com/api/v1/reports/production","","",""),r.value.money=await y("primary","https://sunsync-main-service.onrender.com/api/v1/reports/money","","","")};return F(async()=>{c(),u(),o(),await x()}),(l,Z)=>(f(),I(Q,null,{default:i(()=>[e(P,null,{default:i(()=>[e(m,{icon:s(E),title:"Overview",main:"",class:"mt-6"},null,8,["icon"]),n("div",X,[e(p,{trend:"","trend-type":"up",color:"text-blue-500",icon:s(N),number:t.value.pvNumber,label:"Impianti Fotovoltaici"},null,8,["icon","number"]),e(p,{trend:"","trend-type":"up",color:"text-emerald-500",icon:s(h),number:t.value.money,prefix:"€ ",label:"Soldi Risparmiati"},null,8,["icon","number"]),e(p,{trend:"","trend-type":"up",color:"text-orange-300",icon:s(S),number:t.value.production,suffix:" KW/h",label:"Energia Prodotta"},null,8,["icon","number"])]),e(m,{icon:s(T),title:"Produzione Energetica",main:"",class:"mt-4"},null,8,["icon"]),e(v,{class:"mb-6"},{default:i(()=>[e(k,{data:r.value.production,class:"h-72"},null,8,["data"])]),_:1}),e(m,{icon:s(h),title:"Soldi Risparmiati",main:"",class:"mt-4"},null,8,["icon"]),e(v,{class:"mb-6"},{default:i(()=>[e(k,{data:r.value.money,class:"h-72"},null,8,["data"])]),_:1})]),_:1})]),_:1}))}};export{le as default};
