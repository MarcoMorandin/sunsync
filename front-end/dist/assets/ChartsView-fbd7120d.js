import{i as _}from"./mdi-9b0bf6d7.js";import{a as d,b as m,_ as o}from"./chart.config-3d0dfd67.js";import{c as f,b as w}from"./SectionTitleLineWithButton-5c3c5b94.js";import{_ as l}from"./darkMode-cb7aa1d4.js";import{_ as h}from"./LayoutAuthenticated-66326c98.js";import{e as b,g as k,h as v,o as r,i as y,w as s,j as g,k as D,B as $,C as x,a as e,c,v as B,F as z,u as A}from"./index-c5522a6f.js";const L={__name:"ChartsView",setup(C){const u=b(),i=k([]),p=async()=>{let t=await g.get("http://sunsync-backend.azurewebsites.net"+D,{headers:{Authorization:`Bearer ${u.getToken.value}`}}).then(a=>a.data);for(let a in t)i.value.push({name:t[a].description+": "+t[a].installed_power/1e3+" kW",power:await d(["info","primary"],"http://sunsync-backend.azurewebsites.net"+$,"","",t[a]._id,["power","predicted_power"]),weather:await m(["warning","danger"],"http://sunsync-backend.azurewebsites.net"+x,"","",t[a].ws_id,["temperature","solar_power"])})};return v(async()=>{await p()}),(t,a)=>(r(),y(h,null,{default:s(()=>[e(f,null,{default:s(()=>[(r(!0),c(z,null,B(i.value,(n,E)=>(r(),c("div",null,[e(w,{icon:A(_),title:n.name,main:""},null,8,["icon","title"]),e(l,{class:"mb-6"},{default:s(()=>[e(o,{data:n.power,type:"pv",class:"h-72"},null,8,["data"])]),_:2},1024),e(l,{class:"mb-6"},{default:s(()=>[e(o,{data:n.weather,type:"ws",class:"h-72"},null,8,["data"])]),_:2},1024)]))),256))]),_:1})]),_:1}))}};export{L as default};
