import{l as v,o as i,c as p,L as k,M as $,b as _,t as C,n as h,F as N,v as B,i as S,f as U,e as R,H as A,g,w as o,a as t,u as b,I as E,d as O,s as x,j as z,N as F}from"./index-f9584e7f.js";import{x as T,t as D,y as j,z as q}from"./mdi-9b0bf6d7.js";import{b as I,c as L}from"./SectionTitleLineWithButton-4edab5b8.js";import{_ as M}from"./darkMode-afc6965a.js";import{_ as y,a as V}from"./FormControl-3773fcc1.js";import{_ as w}from"./BaseButton-289b3de1.js";import{_ as P}from"./BaseButtons-ed0e91f5.js";import{_ as H}from"./LayoutAuthenticated-c60b5a0e.js";import{_ as G}from"./NotificationBarInCard-0d0fbb61.js";const W=["type","name","value"],J=_("span",{class:"check"},null,-1),K={class:"pl-2"},Q={__name:"FormCheckRadio",props:{name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:e=>["checkbox","radio","switch"].includes(e)},label:{type:String,default:null},modelValue:{type:[Array,String,Number,Boolean],default:null},inputValue:{type:[String,Number,Boolean],required:!0}},emits:["update:modelValue"],setup(e,{emit:c}){const m=e,s=v({get:()=>m.modelValue,set:u=>{c("update:modelValue",u)}}),a=v(()=>m.type==="radio"?"radio":"checkbox");return(u,d)=>(i(),p("label",{class:h(e.type)},[k(_("input",{"onUpdate:modelValue":d[0]||(d[0]=l=>s.value=l),type:a.value,name:e.name,value:e.inputValue},null,8,W),[[$,s.value]]),J,_("span",K,C(e.label),1)],2))}},X={__name:"FormCheckRadioGroup",props:{options:{type:Object,default:()=>{}},name:{type:String,required:!0},type:{type:String,default:"checkbox",validator:e=>["checkbox","radio","switch"].includes(e)},componentClass:{type:String,default:null},isColumn:Boolean,modelValue:{type:[Array,String,Number,Boolean],default:null}},emits:["update:modelValue"],setup(e,{emit:c}){const m=e,s=v({get:()=>m.modelValue,set:a=>{c("update:modelValue",a)}});return(a,u)=>(i(),p("div",{class:h(["flex justify-start flex-wrap -mb-3",{"flex-col":e.isColumn}])},[(i(!0),p(N,null,B(e.options,(d,l)=>(i(),S(Q,{key:l,modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=f=>s.value=f),type:e.type,name:e.name,"input-value":l,label:d,class:h([e.componentClass,"mr-6 mb-3 last:mr-0"])},null,8,["modelValue","type","name","input-value","label","class"]))),128))],2))}},Y={key:0},Z=_("b",{class:"capitalize"},"ERRORE: ",-1),ee={key:1},de={__name:"NewUserView",setup(e){const c=U(),m=R(),s={0:"Admin",1:"Dipendente"},a=A({username:"",email:"",pass:"",role:s[0]}),u=async()=>{console.log(),await z.post("https://sunsync-backend.azurewebsites.net"+F,{username:a.username,mail:a.email,password:a.pass,role:a.role},{headers:{Authorization:`Bearer ${m.getToken.value}`}}).then(()=>{l.value=f[1],setTimeout(()=>c.push("/dashboard"),500)}).catch(()=>{l.value=f[2]})},d=g(!0),l=g(0),f=["none","success","danger"];return(ae,n)=>(i(),S(H,null,{default:o(()=>[t(L,null,{default:o(()=>[t(I,{icon:b(T),title:"Nuovo Utente",main:""},null,8,["icon"]),t(M,{"is-form":"",onSubmit:E(u,["prevent"])},{footer:o(()=>[t(P,null,{default:o(()=>[t(w,{type:"submit",color:"info",label:"Invia"}),t(w,{type:"reset",color:"info",outline:"",label:"Reset"})]),_:1})]),default:o(()=>[t(G,{color:l.value,"is-placed-with-header":d.value},{default:o(()=>[l.value=="danger"?(i(),p("span",Y,[Z,O(" L'inserimento non Ã¨ andato a buon fine!")])):x("",!0),l.value=="success"?(i(),p("span",ee,"Inserimento avvenuto con successo!")):x("",!0)]),_:1},8,["color","is-placed-with-header"]),t(y,{label:"Username"},{default:o(()=>[t(V,{modelValue:a.username,"onUpdate:modelValue":n[0]||(n[0]=r=>a.username=r),icon:b(D)},null,8,["modelValue","icon"])]),_:1}),t(y,{label:"Email"},{default:o(()=>[t(V,{modelValue:a.email,"onUpdate:modelValue":n[1]||(n[1]=r=>a.email=r),type:"email",icon:b(j)},null,8,["modelValue","icon"])]),_:1}),t(y,{label:"Password"},{default:o(()=>[t(V,{modelValue:a.pass,"onUpdate:modelValue":n[2]||(n[2]=r=>a.pass=r),type:"password",icon:b(q)},null,8,["modelValue","icon"])]),_:1}),t(y,{label:"Ruolo"},{default:o(()=>[t(X,{modelValue:a.role,"onUpdate:modelValue":n[3]||(n[3]=r=>a.role=r),name:"role",type:"radio",options:s},null,8,["modelValue"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}};export{de as default};
